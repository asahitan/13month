<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Happy 13th Monthsary, Wifey! 💕</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #1a0d1a 50%, #0f0510 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Starry Background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle linear infinite;
        }

        .star.small {
            width: 1px;
            height: 1px;
            box-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
        }

        .star.medium {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.9);
        }

        .star.large {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 6px rgba(255, 255, 255, 1);
        }

        .star.bright {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 8px rgba(135, 206, 250, 0.9);
            background: rgba(135, 206, 250, 0.9);
        }

        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3;
                transform: scale(1);
            }
            50% { 
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* Shooting stars */
        .shooting-star {
            position: fixed;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            animation: shoot linear;
            opacity: 0;
        }

        @keyframes shoot {
            0% {
                opacity: 1;
                transform: translateX(-100px) translateY(-100px) scale(0);
            }
            10% {
                opacity: 1;
                transform: translateX(-50px) translateY(-50px) scale(1);
            }
            90% {
                opacity: 1;
                transform: translateX(300px) translateY(300px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateX(400px) translateY(400px) scale(0);
            }
        }

        /* Falling Hearts Background */
        .heart {
            position: fixed;
            color: rgba(255, 107, 157, 0.8);
            font-size: 16px;
            animation: fall linear infinite;
            z-index: 0;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
        }

        /* Header */
        .header {
            text-align: center;
            margin: 20px 0 30px 0;
            animation: fadeInDown 2s ease-out;
        }

        .header h1 {
            font-size: clamp(1.8em, 5vw, 3.5em);
            color: #ff6b9d;
            text-shadow: 0 0 20px rgba(255, 107, 157, 0.5);
            margin-bottom: 10px;
            line-height: 1.2;
        }

        .header p {
            font-size: clamp(1em, 3vw, 1.2em);
            color: #c77dff;
            font-style: italic;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Photo Slideshow */
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin: 30px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            animation: fadeInUp 2s ease-out 0.5s both;
        }

        .slide {
            display: none;
            position: relative;
        }

        .slide.active {
            display: block;
            animation: slideIn 1s ease-in-out;
        }

        .slide img {
            width: 100%;
            height: clamp(250px, 50vw, 350px);
            object-fit: cover;
        }

        .slide-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 15px;
            text-align: center;
            font-size: clamp(0.9em, 2.5vw, 1.1em);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Navigation dots */
        .dots-container {
            text-align: center;
            margin: 15px 0;
        }

        .dot {
            height: 12px;
            width: 12px;
            margin: 0 4px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .dot.active, .dot:hover {
            background-color: #ff6b9d;
            box-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
            transform: scale(1.2);
        }

        /* Love Letter */
        .love-letter {
            background: rgba(40, 40, 60, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: clamp(20px, 5vw, 40px);
            margin: 30px 0;
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.1);
            animation: fadeIn 2s ease-out 1s both;
            border: 2px solid rgba(255, 107, 157, 0.3);
        }

        .love-letter h2 {
            color: #ff6b9d;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.3);
            font-size: clamp(1.5em, 4vw, 2.2em);
            margin-bottom: 15px;
            text-align: center;
        }

        .love-letter p {
            color: #e0e0e0;
            line-height: 1.6;
            font-size: clamp(0.9em, 2.5vw, 1.1em);
            margin-bottom: 12px;
            text-align: justify;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .signature {
            text-align: right;
            margin-top: 20px;
            font-style: italic;
            color: #c77dff;
            font-size: clamp(1em, 2.5vw, 1.2em);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Surprise Button */
        .surprise-section {
            text-align: center;
            margin: 40px 0;
            animation: fadeIn 2s ease-out 1.5s both;
        }

        .surprise-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: clamp(15px, 4vw, 20px) clamp(30px, 8vw, 40px);
            font-size: clamp(1.1em, 3vw, 1.3em);
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            touch-action: manipulation;
            -webkit-appearance: none;
        }

        .surprise-btn:hover, .surprise-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
        }

        .surprise-message {
            display: none;
            background: linear-gradient(135deg, #3a1f5c 0%, #2d1b4e 100%);
            color: white;
            padding: clamp(20px, 5vw, 30px);
            border-radius: 15px;
            margin-top: 20px;
            font-size: clamp(1.1em, 3vw, 1.4em);
            text-align: center;
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.2);
            animation: surpriseReveal 1s ease-out;
        }

        @keyframes surpriseReveal {
            0% {
                opacity: 0;
                transform: scale(0.5) rotate(180deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        /* Floating hearts animation */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .floating-heart {
            position: absolute;
            color: #ff6b9d;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
            font-size: clamp(20px, 5vw, 30px);
            animation: floatUp 4s ease-out infinite;
            opacity: 0;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0);
            }
            15% {
                opacity: 1;
                transform: translateY(-20px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-200px) scale(1);
            }
        }

        /* Touch Flowers Animation */
        .touch-flowers {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
        }

        .touch-flower {
            position: absolute;
            font-size: clamp(18px, 5vw, 25px);
            animation: bloomAndFade 2s ease-out forwards;
            opacity: 0;
            transform-origin: center;
        }

        .touch-flower.pink {
            color: #ff69b4;
            text-shadow: 0 0 8px rgba(255, 105, 180, 0.6);
        }

        .touch-flower.purple {
            color: #da70d6;
            text-shadow: 0 0 8px rgba(218, 112, 214, 0.6);
        }

        .touch-flower.white {
            color: #f8f8ff;
            text-shadow: 0 0 8px rgba(248, 248, 255, 0.6);
        }

        .touch-flower.rose {
            color: #ff1493;
            text-shadow: 0 0 8px rgba(255, 20, 147, 0.6);
        }

        @keyframes bloomAndFade {
            0% {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            20% {
                opacity: 1;
                transform: scale(1.2) rotate(45deg);
            }
            40% {
                opacity: 1;
                transform: scale(1) rotate(90deg);
            }
            100% {
                opacity: 0;
                transform: scale(0.8) rotate(180deg) translateY(-50px);
            }
        }

        /* Audio controls */
        .audio-controls {
            position: fixed;
            bottom: 20px;
            right: 80px;
            background: rgba(40, 40, 60, 0.9);
            backdrop-filter: blur(10px);
            padding: 12px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .audio-btn {
            background: none;
            border: none;
            font-size: clamp(20px, 5vw, 24px);
            cursor: pointer;
            color: #ff6b9d;
            transition: transform 0.3s ease;
            touch-action: manipulation;
            -webkit-appearance: none;
            padding: 5px;
        }

        .audio-btn:hover, .audio-btn:active {
            transform: scale(1.1);
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(40, 40, 60, 0.9);
            backdrop-filter: blur(10px);
            padding: 12px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .theme-btn {
            background: none;
            border: none;
            font-size: clamp(20px, 5vw, 24px);
            cursor: pointer;
            color: #ff6b9d;
            transition: transform 0.3s ease;
            touch-action: manipulation;
            -webkit-appearance: none;
            padding: 5px;
        }

        .theme-btn:hover, .theme-btn:active {
            transform: scale(1.1);
        }

        /* Light Mode Styles */
        body.light-mode {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
        }

        body.light-mode .star {
            display: none;
        }

        body.light-mode .shooting-star {
            display: none;
        }

        body.light-mode .header h1 {
            color: #d63384;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        body.light-mode .header p {
            color: #6f42c1;
        }

        body.light-mode .love-letter {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 182, 193, 0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        body.light-mode .love-letter h2 {
            color: #d63384;
            text-shadow: none;
        }

        body.light-mode .love-letter p {
            color: #495057;
        }

        body.light-mode .signature {
            color: #6f42c1;
        }

        body.light-mode .surprise-message {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        body.light-mode .dot {
            background-color: rgba(255,255,255,0.5);
        }

        body.light-mode .dot.active, 
        body.light-mode .dot:hover {
            background-color: #d63384;
            box-shadow: none;
        }

        body.light-mode .audio-controls,
        body.light-mode .theme-toggle {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        body.light-mode .audio-btn,
        body.light-mode .theme-btn {
            color: #d63384;
        }

        body.light-mode .heart {
            color: rgba(255, 182, 193, 0.8);
        }

        body.light-mode .floating-heart {
            color: #ff69b4;
            text-shadow: none;
        }

        body.light-mode .touch-flower.pink {
            color: #ff1493;
            text-shadow: 0 0 5px rgba(255, 20, 147, 0.4);
        }

        body.light-mode .touch-flower.purple {
            color: #9370db;
            text-shadow: 0 0 5px rgba(147, 112, 219, 0.4);
        }

        body.light-mode .touch-flower.white {
            color: #696969;
            text-shadow: 0 0 5px rgba(105, 105, 105, 0.4);
        }

        body.light-mode .touch-flower.rose {
            color: #dc143c;
            text-shadow: 0 0 5px rgba(220, 20, 60, 0.4);
        }

        /* Mobile-specific improvements */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header {
                margin: 15px 0 25px 0;
            }
            
            .slideshow-container {
                margin: 20px auto;
                border-radius: 12px;
            }
            
            .love-letter {
                margin: 25px 0;
                border-radius: 12px;
            }
            
            .surprise-section {
                margin: 30px 0;
            }
            
            .audio-controls {
                bottom: 15px;
                right: 65px;
                padding: 10px;
            }
            
            .theme-toggle {
                bottom: 15px;
                right: 15px;
                padding: 10px;
            }
            
            .heart {
                font-size: 14px;
            }
        }

        /* Very small screens */
        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }
            
            .header h1 {
                word-break: break-word;
            }
            
            .love-letter p {
                font-size: 0.95em;
                line-height: 1.5;
            }
            
            .audio-controls, .theme-toggle {
                bottom: 10px;
                padding: 8px;
            }
            
            .audio-controls {
                right: 60px;
            }
            
            .theme-toggle {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Starry Background -->
    <div class="stars" id="starsContainer"></div>
    
    <!-- Falling Hearts Background -->
    <div class="falling-hearts"></div>
    
    <!-- Floating Hearts for Surprise -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Touch Flowers Container -->
    <div class="touch-flowers" id="touchFlowers"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Happy 13th Monthsary, Wifey! 💕</h1>
            <p>Celebrating another beautiful month together</p>
        </div>

        <!-- Photo Slideshow -->
        <div class="slideshow-container">
            <div class="slide active">
                <img src="./688b39cc79cee_download.jpg" alt="My Cutest Wifey🥰" loading="lazy">
                <div class="slide-caption">My Cutest Wifey🥰</div>
            </div>
            <div class="slide">
                <img src="./688b3c83cbeed_download.jpg" alt="Bbtime Together Chibili 🥰" loading="lazy">
                <div class="slide-caption">Bbtime Together Chibili 🥰</div>
            </div>
            <div class="slide">
                <img src="./688b402de4d5f_download.jpg" alt="Our First Picture Together 🥰" loading="lazy">
                <div class="slide-caption">Our First Picture Together 🥰</div>
            </div>
            <div class="slide">
                <img src="./adventure-us.jpg" alt="Adventure" loading="lazy">
                <div class="slide-caption">Every adventure is better with you 🎈</div>
            </div>
        </div>

        <div class="dots-container">
            <span class="dot active" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
        </div>

        <!-- Love Letter -->
        <div class="love-letter">
            <h2>My Dearest Wifey,</h2>
            <p>
                Happy 13th Monthsary po saatin wifey koo 🥀 🥰, thank you po sa walang sawa pag unawa mo po sakin ng ganito po katagal wifey ko 🥰. Thank you sooo much po for staying with me po wifey koo 🥰, even na inaaway po kita palagi wifey ko. I'm sorry po wifey ko dahil lagi po tayo magkaaway last few days wifey ko, sobrang papasalamat ko po kasi hindi ka po nag sawang intindihin ako wifey ko kahit minsan nakakapagod na po intindihin wifey ko, thank you so much po wifey koo kasi pinili mo padin po na mag stay sakin wifey ko. I wanna take care of you and be with you till forever wifey ko i love you more than you could know wifey ko 🥰.
            </p>
            <p>
                Tatandaan mo po wifey lagi akong proud sayo wifey ko ay sa kakayahan mo po wifey kaya goodluck po sa tatahakin mo pong landas papuntang tagumpay lagi lang po naka suporta sayo hubby mo po wifey ko 🥰. Sana wag ka po mag sawa na mahalin po ako wifey ko ha alam ko na minsan na kakapagod din po ako mahalin wifey ko, pahinga kalang po sakin wifey ko pag napagod ka po wifey ko 🥰.
            </p>
            <p>
                Iintindihin po kita kahit katulad po ng pag iintindi mo po sakin wifey ko 🥰, never po kitang iiwan because i love you more than you think wifey ko 🥰, i will love you po unconditionally wifey ko, mamahalin po kita wifey ko kahit na malayo po tayo sa isa't-isa wifey kasi kahit na anong layo pa hangganan natin walang makakapigil ng pag mamahal ko po sayo wifey ko 🥰.
            </p>
            <p>
                Kasi alam kona ma lalampasan din po natin pagsubok na to wifey ko, kays stay strong lang po wifey ko ha, Lagi ka po mag iingat dyan wifey ko ha kasi mag papakasal pa tayo wifey koo. Sana po hindi mo po iwan hubby mo po if mawala man po spark mo po wifey ko if mawalan man po gawa ka po ng paraan para po bumalik po spark wifey koo.
            </p>
            <p>
                Im glad met you po wifey ko, you are the greatest gift I've ever received in my life wifey ko 🥰. Wala pong iwanan wifey ko ha, laban lang po through ups and downs wifey koo 🥰, Mwaaaah😘 i love you so much misis koooo 💖 Happy 13th Monthsary saatin asawa koo 🥀🥰 Mwaaaahhhhhhhhhh 😘 mahal na mahal po kitaaaaa asawa ko 🥰, Moreee moree days, months, years to come to us wifey ko 🥰
            </p>
            <div class="signature">
                With all my love,<br>
                hubby 💖🥀
            </div>
        </div>

        <!-- Surprise Button -->
        <div class="surprise-section">
            <button class="surprise-btn" onclick="showSurprise()">Click me! 💕</button>
            <div class="surprise-message" id="surpriseMessage">
                <h3>🎉 SURPRISE! WIFEY KO! 🎉</h3>
                <p>You make every day feel like a celebration!</p>
                <p>I love you more than words can express! 💖</p>
                <p>Here's to forever and always, my beautiful WIFE! ✨</p>
            </div>
        </div>
    </div>

    <!-- Audio Controls -->
    <div class="audio-controls">
        <button class="audio-btn" onclick="toggleMusic()" id="audioBtn">🎵</button>
    </div>

    <!-- Dark Mode Toggle -->
    <div class="theme-toggle">
        <button class="theme-btn" onclick="toggleTheme()" id="themeBtn">☀️</button>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="loveSong" loop preload="auto">
        <source src="./Attack on Titan Call of Silence REQUIEM _ Wedding Orchestra Version(MP3_320K).mp3" type="audio/mpeg">
        <source src="./our-special-song.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Slideshow functionality
        let slideIndex = 1;
        
        function currentSlide(n) {
            showSlide(slideIndex = n);
        }
        
        function showSlide(n) {
            let slides = document.getElementsByClassName("slide");
            let dots = document.getElementsByClassName("dot");
            
            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }
            
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove("active");
            }
            
            for (let i = 0; i < dots.length; i++) {
                dots[i].classList.remove("active");
            }
            
            slides[slideIndex - 1].classList.add("active");
            dots[slideIndex - 1].classList.add("active");
        }
        
        // Auto slideshow
        function nextSlide() {
            slideIndex++;
            if (slideIndex > 4) slideIndex = 1;
            showSlide(slideIndex);
        }
        
        setInterval(nextSlide, 4000);

        // Falling hearts - reduced frequency for mobile
        function createFallingHeart() {
            let heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '💖';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            heart.style.opacity = Math.random();
            document.querySelector('.falling-hearts').appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.remove();
                }
            }, 5000);
        }
        
        // Reduced frequency for mobile performance
        const isMobile = window.innerWidth <= 768;
        setInterval(createFallingHeart, isMobile ? 500 : 300);

        // Surprise function
        function showSurprise() {
            const surprise = document.getElementById('surpriseMessage');
            const btn = document.querySelector('.surprise-btn');
            
            surprise.style.display = 'block';
            btn.style.display = 'none';
            
            createFloatingHearts();
        }

        function createFloatingHearts() {
            const heartsContainer = document.getElementById('floatingHearts');
            const heartEmojis = ['💖', '💕', '💗', '💝', '💘'];
            const heartCount = isMobile ? 10 : 15;
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    let heart = document.createElement('div');
                    heart.classList.add('floating-heart');
                    heart.innerHTML = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.animationDelay = Math.random() * 2 + 's';
                    heartsContainer.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.remove();
                        }
                    }, 4000);
                }, i * 200);
            }
        }

        // Music controls
        let isPlaying = false;
        const audio = document.getElementById('loveSong');
        const audioBtn = document.getElementById('audioBtn');

        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                audioBtn.innerHTML = '🎵';
                isPlaying = false;
            } else {
                audio.play().catch(e => {
                    console.log('Audio play failed:', e);
                    // Mobile-friendly fallback
                    audioBtn.innerHTML = '🎵';
                    alert('Tap the music button again to play!');
                });
                audioBtn.innerHTML = '🔇';
                isPlaying = true;
            }
        }

        // Theme Toggle (Dark mode is default)
        let isDarkMode = true;
        const themeBtn = document.getElementById('themeBtn');

        function toggleTheme() {
            isDarkMode = !isDarkMode;
            
            if (isDarkMode) {
                document.body.classList.remove('light-mode');
                themeBtn.innerHTML = '☀️';
            } else {
                document.body.classList.add('light-mode');
                themeBtn.innerHTML = '🌙';
            }
        }

        // Create Starry Background - optimized for mobile
        function createStars() {
            const starsContainer = document.getElementById('starsContainer');
            const starSizes = ['small', 'medium', 'large', 'bright'];
            const starCount = isMobile ? 100 : 200; // Fewer stars on mobile
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const size = starSizes[Math.floor(Math.random() * starSizes.length)];
                star.classList.add(size);
                
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                
                star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                star.style.animationDelay = Math.random() * 3 + 's';
                
                starsContainer.appendChild(star);
            }
        }

        // Create shooting stars - less frequent on mobile
        function createShootingStar() {
            const shootingStar = document.createElement('div');
            shootingStar.classList.add('shooting-star');
            
            shootingStar.style.left = Math.random() * 50 + '%';
            shootingStar.style.top = Math.random() * 50 + '%';
            shootingStar.style.animationDuration = (Math.random() * 2 + 1) + 's';
            
            document.body.appendChild(shootingStar);
            
            setTimeout(() => {
                if (shootingStar.parentNode) {
                    shootingStar.remove();
                }
            }, 3000);
        }

        // Initialize when page loads
        window.addEventListener('load', () => {
            createStars();
            
            // Less frequent shooting stars on mobile
            const shootingStarInterval = isMobile ? 12000 : 8000;
            setInterval(createShootingStar, shootingStarInterval);
        });

        // Touch/Click Flowers Effect - optimized for mobile
        const touchFlowersContainer = document.getElementById('touchFlowers');
        const flowerEmojis = ['🌸', '🌺', '🌻', '🌷', '🌹', '💐', '🌼', '🏵️'];
        const flowerColors = ['pink', 'purple', 'white', 'rose'];

        function createTouchFlowers(x, y) {
            const flowerCount = isMobile ? 3 : 5; // Fewer flowers on mobile
            
            for (let i = 0; i < flowerCount; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.classList.add('touch-flower');
                    
                    flower.innerHTML = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
                    flower.classList.add(flowerColors[Math.floor(Math.random() * flowerColors.length)]);
                    
                    const offsetRange = isMobile ? 40 : 60; // Smaller offset on mobile
                    const offsetX = (Math.random() - 0.5) * offsetRange;
                    const offsetY = (Math.random() - 0.5) * offsetRange;
                    
                    flower.style.left = (x + offsetX) + 'px';
                    flower.style.top = (y + offsetY) + 'px';
                    
                    touchFlowersContainer.appendChild(flower);
                    
                    setTimeout(() => {
                        if (flower.parentNode) {
                            flower.remove();
                        }
                    }, 2000);
                }, i * 100);
            }
        }

        // Click event for desktop
        document.addEventListener('click', function(e) {
            createTouchFlowers(e.clientX, e.clientY);
        });

        // Touch events for mobile - improved handling
        let lastTouchTime = 0;
        const touchThrottle = 100; // Throttle touch events to improve performance

        document.addEventListener('touchstart', function(e) {
            const now = Date.now();
            if (now - lastTouchTime < touchThrottle) return;
            lastTouchTime = now;
            
            const touch = e.touches[0];
            createTouchFlowers(touch.clientX, touch.clientY);
        }, { passive: true });

        // Handle multiple touches but throttled
        document.addEventListener('touchmove', function(e) {
            const now = Date.now();
            if (now - lastTouchTime < touchThrottle * 2) return; // More throttling for move
            lastTouchTime = now;
            
            if (e.touches.length <= 2) { // Limit to 2 touches max
                const touch = e.touches[0];
                createTouchFlowers(touch.clientX, touch.clientY);
            }
        }, { passive: true });

        // Optimize performance for mobile
        if (isMobile) {
            // Reduce animation frequency when page is not visible
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    // Pause non-essential animations when tab is not active
                    document.body.style.animationPlayState = 'paused';
                } else {
                    document.body.style.animationPlayState = 'running';
                }
            });
        }

        // Allow music to play after user interaction - mobile friendly
        let userInteracted = false;
        const enableAudio = () => {
            if (!userInteracted) {
                userInteracted = true;
                audio.load(); // Reload audio for mobile compatibility
            }
        };

        document.addEventListener('touchstart', enableAudio, { once: true });
        document.addEventListener('click', enableAudio, { once: true });

        // Prevent zoom on double tap for better mobile experience
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Handle orientation change
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                // Recalculate dimensions after orientation change
                window.scrollTo(0, 1);
            }, 100);
        });
    </script>
</body>
</html>
